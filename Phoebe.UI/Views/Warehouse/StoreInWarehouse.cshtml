@model IEnumerable<Phoebe.Model.Stock>

@{ 
    Layout = null;
}

<div class="portlet">
    <div class="portlet-title">
        <div class="caption">
            <i class="fa fa-info-circle"></i>&nbsp;库存信息
        </div>
        <div class="tools">
            <a href="javascript:;" class="collapse">
            </a>
            <a href="javascript:;" class="reload">
            </a>
            <a href="javascript:;" class="remove">
            </a>
        </div>
    </div>
    <div class="portlet-body">
        <table class="table table-striped table-bordered table-hover" id="stock-table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.WarehouseID)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CargoID)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Count)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.InTime)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Source)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Remark)
                    </th>
                    <th>
                        操作
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @item.Warehouse.Number
                        </td>
                        <td>
                            @item.Cargo.Name
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Count)
                        </td>
                        <td>
                            @item.InTime.ToDateTimeString()
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Source)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Remark)
                        </td>
                        <td>
                            <a class="btn btn-sm btn-info" href="/Stock/DetailsModal/@item.ID" data-target="#ajax" data-toggle="modal"><i class="fa fa-check-circle"></i>&nbsp;查看</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <div class="modal fade" id="ajax" role="basic" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <img src="/assets/global/img/loading-spinner-grey.gif" alt="" class="loading">
                        <span>
                            &nbsp;&nbsp;Loading...
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
